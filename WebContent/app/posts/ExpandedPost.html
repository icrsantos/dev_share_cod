<div ng-controller="PostController as postCtrl" class="expanded-post">

    <input id="responded-post-id" value="" type="hidden">
    <div class="card question-card">
        <div class="card-header post-header">
            <h4><span class="score-number">{{postCtrl.post.nomeAutor}}:</span> {{postCtrl.post.titulo}}</h4>
            <div class="score-box">
                <button class="btn btn-link color-green" title="Like"
                        id="button-like-{{postCtrl.post.id}}"
                        ng-click="postCtrl.giveLike(postCtrl.post.id)">
                    <i class="fa fa-chevron-circle-up fa-lg"></i>
                </button>
                <span class="score-number" title="Likes">{{postCtrl.post.curtidas}}</span>
                <button class="btn btn-link color-red" title="Dislike"
                        id="button-dislike-{{postCtrl.post.id}}"
                        ng-click="postCtrl.giveDislike(postCtrl.post.id)">
                    <i class="fa fa-chevron-circle-down fa-lg"></i>
                </button>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">{{postCtrl.post.conteudo}}</p>
            <div class="post-buttons">
                <a class="btn btn-success" title="Responder"
                   ng-click="postCtrl.respondPost(postCtrl.post.id)">
                    <i class="fa fa-comment"></i>
                </a>
                <button id="button-echo-question" class="btn echo-question-button"
                        title="Ecoar Pergunta"
                        ng-click="postCtrl.echoPost(postCtrl.post.id)">
                    <i ng-class="{'fa fa-star': !postCtrl.alreadyEchoed,
                                  'fa fa-check': postCtrl.alreadyEchoed}"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="post-replies">
        <div class="answers-box" ng-repeat="post in postCtrl.retornoRespostas">
            <div class="card answer-card">
                <div class="card-header answer-header">
                    <h6 class="card-title">{{post.nomeAutor}}:</h6>
                    <div class="score-box">
                        <button class="btn btn-link color-green" title="Like"
                                id="button-like-{{post.id}}"
                                ng-click="postCtrl.giveLike(post.id)">
                            <i class="fa fa-chevron-circle-up "></i>
                        </button>
                        <span class="score-number-small" title="Likes">{{post.curtidas}}</span>
                        <button class="btn btn-link color-red" title="Dislike"
                                id="button-dislike-{{post.id}}"
                                ng-click="postCtrl.giveDislike(post.id)">
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <p class="card-text">{{post.conteudo}}</p>
                    <div class="post-buttons">
                        <a class="btn btn-success" title="Responder"
                           ng-click="postCtrl.respondPost(post.id)">
                            <i class="fa fa-comment"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card comment-card" ng-repeat="comment in post.comentarios">
                <div class="card-body comment-body">
                    <span class="card-text">
                        <span class="comment-autor">{{comment.nomeAutor}}:</span>
                        {{comment.conteudo}}
                    </span>
                    <div class="score-box">
                        <button class="btn btn-link color-green" title="Like"
                                id="button-like-{{comment.id}}"
                                ng-click="postCtrl.giveLike(comment.id)">
                            <i class="fa fa-chevron-circle-up "></i>
                        </button>
                        <span class="score-number-extra-small" title="Likes">{{comment.curtidas}}</span>
                        <button class="btn btn-link color-red" title="Dislike"
                                id="button-dislike-{{comment.id}}"
                                ng-click="postCtrl.giveDislike(comment.id)">
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>
<createpost></createpost>

